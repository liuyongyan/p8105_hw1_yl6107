---
title: "Homework 1 - P8105 Data Science I"
author: "Yongyan Liu (yl6107)"
date: "2025-09-13"

output:
  github_document:
    toc: true
    toc_depth: 2
---

## Problem 1

```{r loading_data}
library(moderndive)

data("early_january_weather")
```

The `early_january_weather` dataset is the hourly meteorological data for LGA, JFK and EWR for the month of January 2013. This is a subset of the weather data frame from nycflights13.

The variables in this data set includes:

-   **origin**: Weather station. Named origin to facilitate merging with nycflights13::flights data.
-   **year**, **month**, **day**, **hour**: Time of recording.
-   **temp**, **dewp**: Temperature and dewpoint in Fahrenheit.
-   **humid**: relative humidity.
-   **wind_dir**, **wind_speed**, **wind_gust**: Wind direction (in degrees), speed and gust speed (in mph).
-   **precip**: Precipitation, in inches.
-   **pressure**: Sea level pressure in millibars.
-   **visib**: Visibility in miles.
-   **time_hour**: hourly timestamps (POSIXct).

This data set has `r nrow(early_january_weather)` rows and `r ncol(early_january_weather)` columns. The mean temperature during this period is `r mean(early_january_weather$temp, na.rm = TRUE)` °F.

```{r make_plot}
library(tidyverse)

temp_plot <- ggplot(early_january_weather, aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  scale_x_datetime(
    date_breaks = "1 day",
    date_labels = "%b %d"
  ) +
  labs(
    title = "Hourly Temperature vs Time (colored by Humidity)",
    x = "Time (hourly)",
    y = "Temperature (°F)",
    color = "Humidity"
  ) +
  theme_minimal(base_size = 12) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

temp_plot # show the plot
```

From the visualization, we can make the following observations:

- Temperature goes up in the afternoon and down at night, showing a pattern of daily cycles.
- Higher humidity (darker color) often happens when the temperature is low. When humidity is higher, the difference between day and night temperature is smaller.
- Around January 15 the day and night temperature are almost the same, maybe because of rain or potential data error.

```{r save_plot}
ggsave("temp_trend.png", plot = temp_plot, width = 7, height = 5, dpi = 300)
```

## Problem 2
